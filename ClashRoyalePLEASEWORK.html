<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Clash Intro — Locked Version</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    height: 100%;
    overflow: hidden;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; /* no text/image selection */
  }

  #stage {
    position: relative;
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #mediaZone {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    height: 100vh;
    width: auto;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  video, #clashImg {
    height: 100vh;
    width: auto;
    object-fit: contain;
    display: none;
    pointer-events: none; /* block drag / right-click interaction */
    user-drag: none;
    -webkit-user-drag: none;
  }

  #uiZone {
    position: relative;
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 1s cubic-bezier(0.68,-0.55,0.27,1.55);
  }

  #uiZone.move-left {
    position: absolute;
    left: 80px;
    top: 50%;
    transform: translateY(-50%);
    align-items: flex-start;
  }

  #menu {
    display: flex;
    flex-direction: row;
    gap: 40px;
    justify-content: center;
    transition: opacity 0.4s ease;
  }

  .option {
    background: #111;
    border: 2px solid #333;
    border-radius: 10px;
    padding: 20px 30px;
    width: 230px;
    cursor: pointer;
    text-align: center;
    transition: transform 0.4s ease, opacity 0.4s ease, background 0.2s ease;
  }

  .option:hover {
    background: #222;
    transform: scale(1.05);
  }

  .option h2 {
    margin: 0 0 10px;
  }

  #loading {
    margin-top: 25px;
    font-size: 1.3em;
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  #crashOverlay {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    height: 100vh;
    width: auto;
    aspect-ratio: 9 / 16;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    background: rgba(10,10,10,0.95);
    font-family: monospace;
    text-align: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
    z-index: 200;
  }

  #crashOverlay.visible {
    opacity: 1;
  }

  #crashOverlay h1 {
    color: #ff3333;
    font-size: 1.8em;
    margin-bottom: 10px;
  }

  #crashOverlay p {
    color: #ddd;
    max-width: 500px;
    font-size: 1em;
    line-height: 1.4;
  }

  #crashOverlay span {
    color: #ff7777;
  }
</style>
</head>
<body>
  <div id="stage">
    <div id="mediaZone">
      <video id="introVideo" preload="auto">
        <source src="https://ik.imagekit.io/yyjyznrctj/clash.mp4" type="video/mp4" />
      </video>
      <img id="clashImg" src="clashload.jpg" alt="Clash Loading" draggable="false" />
    </div>

    <div id="uiZone">
      <div id="menu">
        <div class="option" id="guest">
          <h2>Play As a Guest</h2>
          <p>Your Progress won't be Saved If you Leave</p>
        </div>
        <div class="option" id="load">
          <h2>Load Mobile Saves</h2>
        </div>
      </div>
      <div id="loading">Loading... <span id="progress">0%</span></div>
    </div>

    <div id="crashOverlay">
      <h1>⚠ Game Error Detected</h1>
      <p>
        Unexpected render exception has occurred.<br>
        Memory allocation halted at <span>0x7F3A2B</span>.<br><br>
        Progress data could not be saved.<br>
        <span style="color:#888">Press F5 or Refresh the page to restart.</span>
      </p>
    </div>
  </div>

  <script>
    const video = document.getElementById("introVideo");
    const clashImg = document.getElementById("clashImg");
    const uiZone = document.getElementById("uiZone");
    const menu = document.getElementById("menu");
    const options = document.querySelectorAll(".option");
    const loading = document.getElementById("loading");
    const progressText = document.getElementById("progress");
    const crashOverlay = document.getElementById("crashOverlay");
    const mediaZone = document.getElementById("mediaZone");

    // Disable right-click context menu entirely
    document.addEventListener("contextmenu", e => e.preventDefault());

    let chosen = null;

    options.forEach(opt => {
      opt.addEventListener("click", () => {
        if (chosen) return;
        chosen = opt;

        // Fade out unchosen
        options.forEach(o => { if (o !== opt) o.style.opacity = 0; });

        // Show loading text
        loading.style.opacity = 1;

        // Slide UI left
        setTimeout(() => uiZone.classList.add("move-left"), 300);

        // Play video
        video.currentTime = 0;
        video.muted = false;
        video.style.display = "block";
        video.play().catch(() => {
          video.muted = true;
          video.play();
        });

        // After 8s → swap to clashload image + fake crash
        setTimeout(() => {
          video.pause();
          video.style.display = "none";
          clashImg.style.display = "block";

          simulateLoading(84, () => {
            mediaZone.style.filter = "grayscale(60%) blur(3px)";
            crashOverlay.classList.add("visible");
          });
        }, 8000);
      });
    });

    function simulateLoading(stopAt, callback) {
      let progress = 0;
      const interval = setInterval(() => {
        if (progress < stopAt) {
          progress++;
          progressText.textContent = progress + "%";
        } else {
          clearInterval(interval);
          if (callback) callback();
        }
      }, 40);
    }
  </script>
</body>
</html>
